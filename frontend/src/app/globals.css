@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Font Families */
  --font-system:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, ui-sans-serif,
    system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;

  /* UniFi Brand Colors - Blue */
  --color-primary-50: #e6f4ff;
  --color-primary-100: #b3dfff;
  --color-primary-200: #80caff;
  --color-primary-300: #4db5ff;
  --color-primary-400: #1aa0ff;
  --color-primary-500: #0091ff;
  --color-primary-600: #007de6;
  --color-primary-700: #0069cc;
  --color-primary-800: #0055b3;
  --color-primary-900: #004199;

  /* Secondary/Neutral Colors */
  --color-secondary-50: #f8f9fa;
  --color-secondary-100: #e9ecef;
  --color-secondary-200: #dee2e6;
  --color-secondary-300: #ced4da;
  --color-secondary-400: #adb5bd;
  --color-secondary-500: #6c757d;
  --color-secondary-600: #495057;
  --color-secondary-700: #343a40;
  --color-secondary-800: #212529;
  --color-secondary-900: #1a1d26;

  /* Success Colors - UniFi Green */
  --color-success-50: #e6fff4;
  --color-success-100: #b3ffe0;
  --color-success-200: #80ffcc;
  --color-success-300: #4dffb8;
  --color-success-400: #1affa4;
  --color-success-500: #00e68a;
  --color-success-600: #00d27f;
  --color-success-700: #00b36f;
  --color-success-800: #00995f;
  --color-success-900: #008050;

  /* Danger Colors */
  --color-danger-50: #fff0f0;
  --color-danger-100: #ffd6d6;
  --color-danger-200: #ffb3b3;
  --color-danger-300: #ff9090;
  --color-danger-400: #ff6d6d;
  --color-danger-500: #ff4a4a;
  --color-danger-600: #e63939;
  --color-danger-700: #cc2929;
  --color-danger-800: #b31919;
  --color-danger-900: #990909;

  /* Warning Colors */
  --color-warning-50: #fff8e6;
  --color-warning-100: #ffecb3;
  --color-warning-200: #ffe080;
  --color-warning-300: #ffd44d;
  --color-warning-400: #ffc81a;
  --color-warning-500: #ffbb00;
  --color-warning-600: #e6a800;
  --color-warning-700: #cc9500;
  --color-warning-800: #b38200;
  --color-warning-900: #996f00;

  /* Custom Box Shadows - Subtle like UniFi */
  --shadow-soft: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-soft-dark: 0 1px 3px rgba(0, 0, 0, 0.5);
  --shadow-elevation: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-elevation-dark: 0 2px 8px rgba(0, 0, 0, 0.6);
}

/* ========================================================================== */
/* 0. Semantic Color Utilities                                                */
/* ========================================================================== */

/* ---------------------------------- */
/* Base                               */
/* ---------------------------------- */

/* Text */
@utility text-primary {
  @apply text-neutral-900 dark:text-[#e1e3e9];
}
@utility text-secondary {
  @apply text-neutral-600 dark:text-[#9ca3af];
}
@utility text-muted {
  @apply text-neutral-500 dark:text-[#6b7280];
}
@utility text-brand {
  @apply text-primary-600 dark:text-primary-400;
}
@utility text-brand-emphasis {
  @apply text-primary-700 dark:text-primary-300;
}

/* Background */
@utility bg-page {
  @apply bg-[#f5f5f5] dark:bg-[#191b1e];
}
@utility bg-surface {
  @apply bg-white dark:bg-[#1f2226];
}
@utility bg-overlay {
  @apply bg-black/50 dark:bg-black/70;
}
@utility bg-disabled {
  @apply bg-neutral-300 dark:bg-neutral-700;
}

@utility bg-interactive {
  @apply bg-neutral-50 dark:bg-[#26292d];
}
@utility bg-interactive-hover {
  @apply hover:bg-neutral-100 dark:hover:bg-[#2d3035];
}
@utility interactive-disabled {
  @apply disabled:opacity-40 disabled:bg-disabled disabled:hover:bg-disabled disabled:text-primary disabled:border-default disabled:cursor-not-allowed;
}

/* Borders */
@utility border-default {
  @apply border-neutral-200 dark:border-[#2d3036];
}
@utility border-subtle {
  @apply border-neutral-100 dark:border-[#26292d];
}
@utility border-intense {
  @apply border-neutral-300 dark:border-[#3a3d42];
}
@utility border-accent {
  @apply border-primary-500 dark:border-primary-500;
}
@utility border-emphasis {
  @apply border-primary-600 dark:border-primary-400;
}

/* Focus */
@utility focus-accent {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500;
}
@utility focus-danger {
  @apply focus:outline-none focus:ring-2 focus:ring-danger-500;
}

/* Selected */
@utility selected-accent {
  @apply border-accent bg-primary-600;
}
@utility unselected-neutral {
  @apply border-default bg-surface;
}

/* ---------------------------------- */
/* Status                             */
/* ---------------------------------- */

/* Text */
@utility text-status-success {
  @apply text-success-700 dark:text-success-400;
}
@utility text-status-danger {
  @apply text-danger-700 dark:text-danger-400;
}
@utility text-status-warning {
  @apply text-warning-700 dark:text-warning-400;
}
@utility text-status-info {
  @apply text-primary-700 dark:text-primary-400;
}

/* Background */
@utility bg-status-success {
  @apply bg-success-100 dark:bg-success-900/30;
}
@utility bg-status-danger {
  @apply bg-danger-100 dark:bg-danger-900/30;
}
@utility bg-status-warning {
  @apply bg-warning-100 dark:bg-warning-900/30;
}
@utility bg-status-info {
  @apply bg-primary-100 dark:bg-primary-900/30;
}

/* Borders */
@utility border-status-success {
  @apply border-success-600;
}
@utility border-status-danger {
  @apply border-danger-600;
}
@utility border-status-warning {
  @apply border-warning-600;
}
@utility border-status-info {
  @apply border-primary-600;
}

/* ========================================================================== */
/* 1. Semantic Animation Utilities                                            */
/* ========================================================================== */

/* Hover Effects */
@utility hover-lift {
  @apply hover:-translate-y-1 hover:shadow-elevation hover:dark:shadow-elevation-dark;
}
@utility hover-scale {
  @apply hover:scale-105 disabled:hover:scale-100;
}

/* Slide Animations */
@utility slide-in-right {
  @apply transform transition-transform duration-500 ease-out translate-x-full;
}
@utility slide-in-right-visible {
  @apply translate-x-0;
}

/* Fade Animations */
@utility fade-in {
  @apply transition-opacity duration-300 ease-out opacity-0;
}
@utility fade-in-visible {
  @apply opacity-100;
}
@utility fade-out {
  @apply transition-opacity duration-200 ease-in opacity-100;
}
@utility fade-out-hidden {
  @apply opacity-0;
}

/* Focus Animations */
@utility focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200;
}
@utility focus-ring-danger {
  @apply focus:outline-none focus:ring-2 focus:ring-danger-500 focus:ring-offset-2 transition-all duration-200;
}

/* ========================================================================== */
/* 2. Utilities                                                               */
/* ========================================================================== */
@utility flex-center {
  @apply flex items-center justify-center;
}
@utility flex-center-between {
  @apply flex items-center justify-between;
}
@utility inline-flex-center {
  @apply inline-flex items-center justify-center;
}

/* ========================================================================== */
/* 3. Base layer: resets, defaults, theming, scrollbar                        */
/* ========================================================================== */
@layer base {
  * {
    @apply transition duration-200 ease-in-out;
  }
  .transition-disabled * {
    @apply transition-none;
  }

  html {
    font-family: var(--font-system);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;

    /* Make non-scrollable */
    overflow: hidden;
    height: 100%;
    width: 100%;
    position: fixed;
    touch-action: none;

    @apply bg-page;
  }

  body {
    /* Make sure to respect iOS safe areas */
    height: 100%;
    min-height: 100vh;
    min-height: 100dvh;
    overflow-x: hidden;
    overflow-y: auto;
    /* Add support for safe areas */
    padding: env(safe-area-inset-top) env(safe-area-inset-right)
      env(safe-area-inset-bottom) env(safe-area-inset-left);

    @apply bg-page text-primary;
  }

  /* touch feedback */
  button,
  a {
    -webkit-tap-highlight-color: transparent;
    cursor: pointer;
  }

  select {
    @apply appearance-none bg-surface bg-interactive-hover border border-default cursor-pointer focus-accent px-3 py-2 rounded-lg w-full;
  }
  input {
    @apply bg-surface border border-default focus-accent px-3 py-2 rounded-lg w-full;
  }

  /* Scrollbars */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  *::-webkit-scrollbar-track {
    background: transparent;
  }
  *::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 dark:bg-neutral-700 rounded-lg;
  }
}

/* ========================================================================== */
/* 4. Components layer: reusable patterns                                     */
/* ========================================================================== */

@utility btn {
  @apply inline-flex-center bg-interactive-hover font-medium rounded-lg focus:ring-2 cursor-pointer px-4 py-2 border interactive-disabled border-default text-primary;
}

@layer components {
  /* Buttons */
  .btn-primary {
    @apply btn text-white bg-primary-500 border-primary-600 hover:bg-primary-600 focus:ring-primary-300;
  }
  .btn-secondary {
    @apply btn text-white bg-secondary-500 border-secondary-600 hover:bg-secondary-600 focus:ring-secondary-300;
  }
  .btn-success {
    @apply btn text-white bg-success-500 border-success-600 hover:bg-success-600 focus:ring-success-300;
  }
  .btn-danger {
    @apply btn text-white bg-danger-500 border-danger-600 hover:bg-danger-600 focus:ring-danger-300;
  }
  .btn-warning {
    @apply btn text-white bg-warning-500 border-warning-600 hover:bg-warning-600 focus:ring-warning-300;
  }

  .card {
    @apply bg-surface border border-default rounded-lg shadow-soft dark:shadow-soft-dark p-4 w-full;
  }
  .card-interactive {
    @apply cursor-pointer focus-accent hover:border-intense;
  }

  .voucher-code {
    @apply font-bold text-brand font-mono tracking-wider;
  }

  .tab-active {
    @apply text-brand font-semibold border-b-2 border-accent;
  }
  .tab-inactive {
    @apply text-secondary bg-interactive-hover border-b-2 border-transparent hover:border-intense hover:text-primary;
  }
  .sticky-tabs {
    top: var(--header-height);
  }
}
